

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Extending Podpac with Custom Nodes &mdash; PODPAC 0.0.0 documentation</title>
  

  
  
  
  
    <link rel="canonical" href="https://creare-com.github.io/podpac-docsuser/custom-nodes.html"/>
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="References" href="references.html" />
    <link rel="prev" title="Pipelines" href="pipelines.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/pea-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../why-podpac.html">Why PODPAC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../roadmap.html">Roadmap</a></li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="pipelines.html">Pipelines</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Extending Podpac with Custom Nodes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#custom-data-source">Custom Data Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tagging-params-and-attrs">Tagging params and attrs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#params">params</a></li>
<li class="toctree-l3"><a class="reference internal" href="#attrs">attrs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#using-custom-nodes-in-a-pipeline">Using Custom Nodes in a Pipeline</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-min.html">API Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developer/design.html">Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/docs.html">Documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PODPAC</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Extending Podpac with Custom Nodes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/user/custom-nodes.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="extending-podpac-with-custom-nodes">
<span id="extending-podpac-with-custom-nodes"></span><h1>Extending Podpac with Custom Nodes<a class="headerlink" href="#extending-podpac-with-custom-nodes" title="Permalink to this headline">¶</a></h1>
<p>The podpac core library includes a number of common data sources and algorithms, and additional data sources are available in the datalib submodule. However, you may need to write your own node to handle unique data sources or additional data processing.</p>
<div class="section" id="custom-data-source">
<span id="custom-data-source"></span><h2>Custom Data Source<a class="headerlink" href="#custom-data-source" title="Permalink to this headline">¶</a></h2>
<p>TODO Data Source example</p>
</div>
<div class="section" id="tagging-params-and-attrs">
<span id="tagging-params-and-attrs"></span><h2>Tagging params and attrs<a class="headerlink" href="#tagging-params-and-attrs" title="Permalink to this headline">¶</a></h2>
<div class="section" id="params">
<span id="params"></span><h3>params<a class="headerlink" href="#params" title="Permalink to this headline">¶</a></h3>
<p>Execution parameters are passed in when the node is executed. For each parameter, the class definition should include a traitlets attribute that is tagged as a <code class="docutils literal notranslate"><span class="pre">param</span></code>. You can optionally include a default value for the param.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyDataSource</span><span class="p">(</span><span class="n">DataSource</span><span class="p">):</span>
    <span class="n">my_param1</span> <span class="o">=</span> <span class="n">tl</span><span class="o">.</span><span class="n">Integer</span><span class="p">(</span><span class="n">allow_none</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">param</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">my_param2</span> <span class="o">=</span> <span class="n">tl</span><span class="o">.</span><span class="n">Integer</span><span class="p">(</span><span class="n">default_value</span><span class="o">=</span><span class="mf">100.0</span><span class="p">)</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">param</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="o">...</span>
</pre></div>
</div>
<p>You will be able to set params when instantiating the node and when executing the node:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">node</span> <span class="o">=</span> <span class="n">MyDataSource</span><span class="p">(</span><span class="n">my_param1</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">output</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">coords</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;my_param2&#39;</span><span class="p">:</span> <span class="mf">75.0</span><span class="p">})</span>
</pre></div>
</div>
<p>You will also be able to set these tagged params in <a class="reference external" href="pipeline.md">pipelines</a>.</p>
</div>
<div class="section" id="attrs">
<span id="attrs"></span><h3>attrs<a class="headerlink" href="#attrs" title="Permalink to this headline">¶</a></h3>
<p>Unlike params, node attributes are defined when instantiating the node, but cannot be set when later executing the node. Again, for each attribute, the class definition should include a traitlets attribute that is tagged as an <code class="docutils literal notranslate"><span class="pre">attr</span></code>, and you can optionally include a default value.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyDataSource</span><span class="p">(</span><span class="n">DataSource</span><span class="p">):</span>
    <span class="n">my_param1</span> <span class="o">=</span> <span class="n">tl</span><span class="o">.</span><span class="n">Integer</span><span class="p">(</span><span class="n">allow_none</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">param</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">my_param2</span> <span class="o">=</span> <span class="n">tl</span><span class="o">.</span><span class="n">Integer</span><span class="p">(</span><span class="n">default_value</span><span class="o">=</span><span class="mf">100.0</span><span class="p">)</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">param</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">my_attr</span> <span class="o">=</span> <span class="n">tl</span><span class="o">.</span><span class="n">Integer</span><span class="p">(</span><span class="n">default_value</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">attr</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="o">...</span>
</pre></div>
</div>
<p>You will be able to set attrs when instantiating the node:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">node</span> <span class="o">=</span> <span class="n">MyDataSource</span><span class="p">(</span><span class="n">my_param1</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">my_attr</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">output</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">coords</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;my_param2&#39;</span><span class="p">:</span> <span class="mf">75.0</span><span class="p">})</span>
</pre></div>
</div>
<p>You will also be able to set these tagged attrs in <a class="reference external" href="pipeline.md">pipelines</a>.</p>
</div>
</div>
<div class="section" id="using-custom-nodes-in-a-pipeline">
<span id="using-custom-nodes-in-a-pipeline"></span><h2>Using Custom Nodes in a Pipeline<a class="headerlink" href="#using-custom-nodes-in-a-pipeline" title="Permalink to this headline">¶</a></h2>
<p>TODO: Brief Plugin Guide</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="references.html" class="btn btn-neutral float-right" title="References" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pipelines.html" class="btn btn-neutral" title="Pipelines" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2018, Creare.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.0.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>