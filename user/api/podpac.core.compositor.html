

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>podpac.core.compositor &mdash; PODPAC 0.0.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
  
  
  
    <link rel="canonical" href="https://creare-com.github.io/podpac-docsuser/api/podpac.core.compositor.html"/>
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/style.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="podpac.core.node" href="podpac.core.node.html" />
    <link rel="prev" title="podpac.core.authentication" href="podpac.core.authentication.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/icon-outline.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../why-podpac.html">Why PODPAC?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../why-podpac.html#other-related-projects">Other related projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install.html#window-10-installation">Window 10 Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install.html#commandline-installation">Commandline Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install.html#creating-the-windows-installation-podpac-conda-environment">Creating the Windows Installation PODPAC Conda environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../roadmap.html">Roadmap</a></li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../coordinates.html">Coordinates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nodes.html">Nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pipelines.html">Pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../earthdata.html">NASA Earth Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-min.html">API Quick Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../api.html#core">Core</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="podpac.core.authentication.html">podpac.core.authentication</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">podpac.core.compositor</a></li>
<li class="toctree-l3"><a class="reference internal" href="podpac.core.node.html">podpac.core.node</a></li>
<li class="toctree-l3"><a class="reference internal" href="podpac.core.pipeline.html">podpac.core.pipeline</a></li>
<li class="toctree-l3"><a class="reference internal" href="podpac.core.units.html">podpac.core.units</a></li>
<li class="toctree-l3"><a class="reference internal" href="podpac.core.utils.html">podpac.core.utils</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api.html#coordinate">Coordinate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api.html#data">Data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#data-sources">Data Sources</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Developer Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../developer/design.html">Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/aws.html">AWS Lambda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/docs.html">Documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">PODPAC</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../api.html">API Reference</a> &raquo;</li>
        
      <li>podpac.core.compositor</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/user/api/podpac.core.compositor.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-podpac.core.compositor">
<span id="podpac-core-compositor"></span><h1>podpac.core.compositor<a class="headerlink" href="#module-podpac.core.compositor" title="Permalink to this headline">¶</a></h1>
<p>Compositor Summary</p>
<p class="rubric">Classes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#podpac.core.compositor.Compositor" title="podpac.core.compositor.Compositor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Compositor</span></code></a>(**kwargs)</td>
<td>The base class for all Nodes, which defines the common interface for everything.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#podpac.core.compositor.OrderedCompositor" title="podpac.core.compositor.OrderedCompositor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OrderedCompositor</span></code></a>(**kwargs)</td>
<td>Compositor that combines sources based on their order in self.sources.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="podpac.core.compositor.Compositor">
<em class="property">class </em><code class="descclassname">podpac.core.compositor.</code><code class="descname">Compositor</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/podpac/core/compositor.html#Compositor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#podpac.core.compositor.Compositor" title="Permalink to this definition">¶</a></dt>
<dd><p>The base class for all Nodes, which defines the common interface for everything.</p>
<p class="rubric">Notes</p>
<p>Developers of new Compositor nodes need to implement the <cite>composite</cite> method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Attributes:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>shared_coordinates</strong> <span class="classifier-delimiter">:</span> <span class="classifier">podpac.Coordinates, optional</span></dt>
<dd><p class="first last">Coordinates that are shared amongst all of the composited sources</p>
</dd>
<dt><strong>source_coordinates = podpac.Coordinates, optional</strong></dt>
<dd><p class="first last">Coordinates that make each source unique. This is used for subsetting which sources to evaluate based on the 
user-requested coordinates. It is an optimization.</p>
</dd>
<dt><strong>is_source_coordinates_complete</strong> <span class="classifier-delimiter">:</span> <span class="classifier">Bool</span></dt>
<dd><p class="first last">Default is False. The source_coordinates do not have to completely describe the source. For example, the source
coordinates could include the year-month-day of the source, but the actual source also has hour-minute-second
information. In that case, source_coordinates is incomplete. This flag is used to automatically construct 
native_coordinates</p>
</dd>
<dt><strong>source: str</strong></dt>
<dd><p class="first last">The source is used for a unique name to cache composited products.</p>
</dd>
<dt><strong>sources</strong> <span class="classifier-delimiter">:</span> <span class="classifier">np.ndarray</span></dt>
<dd><p class="first last">An array of sources. This is a numpy array as opposed to a list so that boolean indexing may be used to 
subselect the nodes that will be evaluated.</p>
</dd>
<dt><strong>cache_native_coordinates</strong> <span class="classifier-delimiter">:</span> <span class="classifier">True</span></dt>
<dd><p class="first last">Default is True. If native_coordinates are requested by the user, it may take a long time to calculate if the 
Compositor points to many sources. The result is relatively small and is cached by default. Caching may not be
desired if the datasource change or is updated.</p>
</dd>
<dt><strong>interpolation</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">Indicates the interpolation type. This gets passed down to the DataSources as part of the compositor.</p>
</dd>
<dt><strong>threaded</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">Default if False.
When threaded is False, the compositor stops evaluated sources once the output is completely filled.
When threaded is True, the compositor must evaluate every source.
The result is the same, but note that because of this, threaded=False could be faster than threaded=True,
especially if n_threads is low. For example, threaded with n_threads=1 could be much slower than non-threaded
if the output is completely filled after the first few sources.</p>
</dd>
<dt><strong>n_threads</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd><p class="first last">Default is 10 – used when threaded is True. 
NASA data servers seem to have a hard limit of 10 simultaneous requests, which determined the default value.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="podpac.core.compositor.Compositor.base_definition">
<code class="descname">base_definition</code><a class="headerlink" href="#podpac.core.compositor.Compositor.base_definition" title="Permalink to this definition">¶</a></dt>
<dd><p>Base node defintion for Compositor nodes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>OrderedDict</strong></dt>
<dd><p class="first last">Dictionary containing the location of the Node, the name of the plugin (if required), as well as any
parameters and attributes that were tagged by children.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="podpac.core.compositor.Compositor.composite">
<code class="descname">composite</code><span class="sig-paren">(</span><em>outputs</em>, <em>result=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/podpac/core/compositor.html#Compositor.composite"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#podpac.core.compositor.Compositor.composite" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements the rules for compositing multiple sources together.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>outputs</strong> <span class="classifier-delimiter">:</span> <span class="classifier">list</span></dt>
<dd><p class="first last">A list of outputs that need to be composited together</p>
</dd>
<dt><strong>result</strong> <span class="classifier-delimiter">:</span> <span class="classifier">UnitDataArray, optional</span></dt>
<dd><p class="first last">An optional pre-filled array may be supplied, otherwise the output will be allocated.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>NotImplementedError</strong></dt>
<dd><p class="first last">Description</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="podpac.core.compositor.Compositor.eval">
<code class="descname">eval</code><span class="sig-paren">(</span><em>coordinates</em>, <em>output=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/podpac/core/compositor.html#Compositor.eval"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#podpac.core.compositor.Compositor.eval" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates this nodes using the supplied coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>coordinates</strong> <span class="classifier-delimiter">:</span> <span class="classifier">podpac.Coordinates</span></dt>
<dd><p class="first last">The set of coordinates requested by a user. The Node will be evaluated using these coordinates.</p>
</dd>
<dt><strong>output</strong> <span class="classifier-delimiter">:</span> <span class="classifier">podpac.UnitsDataArray, optional</span></dt>
<dd><p class="first last">Default is None. Optional input array used to store the output data. When supplied, the node will not
allocate its own memory for the output array. This array needs to have the correct dimensions and
coordinates.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>UnitsDataArray</strong></dt>
<dd><p class="first last">Unit-aware xarray DataArray containing the results of the node evaluation.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="podpac.core.compositor.Compositor.find_coordinates">
<code class="descname">find_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/podpac/core/compositor.html#Compositor.find_coordinates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#podpac.core.compositor.Compositor.find_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the available native coordinates for the Node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>coords_list</strong> <span class="classifier-delimiter">:</span> <span class="classifier">list</span></dt>
<dd><p class="first last">list of available coordinates (Coordinate objects)</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="podpac.core.compositor.Compositor.get_shared_coordinates">
<code class="descname">get_shared_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/podpac/core/compositor.html#Compositor.get_shared_coordinates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#podpac.core.compositor.Compositor.get_shared_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Coordinates shared by each source.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>NotImplementedError</strong></dt>
<dd><p class="first last">Description</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="podpac.core.compositor.Compositor.get_source_coordinates">
<code class="descname">get_source_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/podpac/core/compositor.html#Compositor.get_source_coordinates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#podpac.core.compositor.Compositor.get_source_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the coordinates describing each source. 
This may be implemented by derived classes, and is an optimization that allows evaluation subsets of source.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>podpac.Coordinates</strong></dt>
<dd><p class="first last">Coordinates describing each source.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="podpac.core.compositor.Compositor.iteroutputs">
<code class="descname">iteroutputs</code><span class="sig-paren">(</span><em>coordinates</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/podpac/core/compositor.html#Compositor.iteroutputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#podpac.core.compositor.Compositor.iteroutputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Summary</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>coordinates</strong> <span class="classifier-delimiter">:</span> <span class="classifier">TYPE</span></dt>
<dd><p class="first last">Description</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>TYPE</strong></dt>
<dd><p class="first last">Description</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="podpac.core.compositor.OrderedCompositor">
<em class="property">class </em><code class="descclassname">podpac.core.compositor.</code><code class="descname">OrderedCompositor</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/podpac/core/compositor.html#OrderedCompositor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#podpac.core.compositor.OrderedCompositor" title="Permalink to this definition">¶</a></dt>
<dd><p>Compositor that combines sources based on their order in self.sources. Once a request contains no
nans, the result is returned.</p>
<dl class="method">
<dt id="podpac.core.compositor.OrderedCompositor.composite">
<code class="descname">composite</code><span class="sig-paren">(</span><em>outputs</em>, <em>result=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/podpac/core/compositor.html#OrderedCompositor.composite"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#podpac.core.compositor.OrderedCompositor.composite" title="Permalink to this definition">¶</a></dt>
<dd><p>Composites outputs in order that they appear.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>outputs</strong> <span class="classifier-delimiter">:</span> <span class="classifier">generator</span></dt>
<dd><p class="first last">Generator that gives UnitDataArray’s with the source values.</p>
</dd>
<dt><strong>result</strong> <span class="classifier-delimiter">:</span> <span class="classifier">None, optional</span></dt>
<dd><p class="first last">Description</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>UnitsDataArray</strong></dt>
<dd><p class="first last">Unit-aware xarray DataArray containing the results of the node evaluation. This composites the sources together until there are no nans or no more sources.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="podpac.core.node.html" class="btn btn-neutral float-right" title="podpac.core.node" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="podpac.core.authentication.html" class="btn btn-neutral" title="podpac.core.authentication" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2018, Creare

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>