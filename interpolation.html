

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Interpolation &mdash; 2.3.0</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/style.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="_static/favicon.png"/>
  
  
  
    <link rel="canonical" href="https://podpac.orginterpolation.html"/>
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="NASA Earth Data Login" href="earthdata.html" />
    <link rel="prev" title="Supported Datasets" href="datasets.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html">
          

          
            
            <img src="_static/icon.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2.3.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="settings.html">Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws.html">AWS Integration</a></li>
</ul>
<p class="caption"><span class="caption-text">Topics</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="why-podpac.html">Why PODPAC?</a></li>
<li class="toctree-l1"><a class="reference internal" href="design.html">Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="dependencies.html">Dependencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="nodes.html">Nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="coordinates.html">Coordinates</a></li>
<li class="toctree-l1"><a class="reference internal" href="cache.html">Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="datasets.html">Supported Datasets</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Interpolation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#as-a-string">…as a string</a></li>
<li class="toctree-l3"><a class="reference internal" href="#as-a-dictionary">…as a dictionary</a></li>
<li class="toctree-l3"><a class="reference internal" href="#as-a-list">…as a list</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#notes-and-caveats">Notes and Caveats</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="earthdata.html">NASA Earth Data Login</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws-development.html">AWS Development</a></li>
</ul>
<p class="caption"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="wrapping-datasets.html">Wrapping Datasets</a></li>
</ul>
<p class="caption"><span class="caption-text">Support</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="docs.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">Development Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PODPAC</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Interpolation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/interpolation.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="interpolation">
<h1>Interpolation<a class="headerlink" href="#interpolation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>PODPAC allows users to specify various different interpolation schemes for nodes with
increased granularity, and even lets users write their own interpolators.</p>
<p>Relevant example notebooks include:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/creare-com/podpac-examples/blob/master/notebooks/4-advanced/interpolation.ipynb">Advanced Interpolation</a></p></li>
<li><p><a class="reference external" href="https://github.com/creare-com/podpac-examples/blob/master/notebooks/2-combining-data/automatic-interpolation-and-regridding.ipynb">Basic Interpolation</a></p></li>
<li><p><a class="reference external" href="https://github.com/creare-com/podpac-examples/blob/master/notebooks/examples/drought-monitor/03-data-access-harmonization-processing.ipynb">Drought Monitor Data Access Harmonization Processing</a></p></li>
</ul>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>Consider a <code class="docutils literal notranslate"><span class="pre">DataSource</span></code> with <code class="docutils literal notranslate"><span class="pre">lat</span></code>, <code class="docutils literal notranslate"><span class="pre">lon</span></code>, <code class="docutils literal notranslate"><span class="pre">time</span></code> coordinates that we will instantiate as:
<code class="docutils literal notranslate"><span class="pre">node</span> <span class="pre">=</span> <span class="pre">DataSource(...,</span> <span class="pre">interpolation=interpolation)</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">interpolation</span></code> can be specified …</p>
<div class="section" id="as-a-string">
<h3>…as a string<a class="headerlink" href="#as-a-string" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">interpolation='nearest'</span></code></p>
<ul class="simple">
<li><p><strong>Descripition</strong>: All dimensions are interpolated using nearest neighbor interpolation. This is the default, but available options can be found here: <code class="docutils literal notranslate"><span class="pre">podpac.core.interpolation.interpolation.INTERPOLATION_METHODS</span></code> .</p></li>
<li><p><strong>Details</strong>: PODPAC will automatically select appropriate interpolators based on the source coordinates and eval coordinates. Default interpolator orders can be found in <code class="docutils literal notranslate"><span class="pre">podpac.core.interpolation.interpolation.INTERPOLATION_METHODS_DICT</span></code></p></li>
</ul>
</div>
<div class="section" id="as-a-dictionary">
<h3>…as a dictionary<a class="headerlink" href="#as-a-dictionary" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">interpolation</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;method&#39;</span><span class="p">:</span> <span class="s1">&#39;nearest&#39;</span><span class="p">,</span>
    <span class="s1">&#39;params&#39;</span><span class="p">:</span> <span class="p">{</span>    <span class="c1"># Optional. Available parameters depend on the particular interpolator</span>
        <span class="s1">&#39;spatial_tolerance&#39;</span><span class="p">:</span> <span class="mf">1.1</span><span class="p">,</span>
        <span class="s1">&#39;time_tolerance&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">timedelta64</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="s1">&#39;interpolators&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">ScipyGrid</span><span class="p">,</span> <span class="n">NearestNeighbor</span><span class="p">]</span>  <span class="c1"># Optional. Available options are in podpac.core.interpolation.interpolation.INTERPOLATORS</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p><strong>Descripition</strong>: All dimensions are interpolated using nearest neighbor interpolation, and the type of interpolators are tried in the order specified. For applicable interpolators, the specified parameters will be used.</p></li>
<li><p><strong>Details</strong>: PODPAC loops through the <code class="docutils literal notranslate"><span class="pre">interpolators</span></code> list, checking if the interpolator is able to interpolate between the evaluated and source coordinates. The first capable interpolator available will be used.</p></li>
</ul>
</div>
<div class="section" id="as-a-list">
<h3>…as a list<a class="headerlink" href="#as-a-list" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">interpolation</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s1">&#39;method&#39;</span><span class="p">:</span> <span class="s1">&#39;bilinear&#39;</span><span class="p">,</span>
        <span class="s1">&#39;dims&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;lat&#39;</span><span class="p">,</span> <span class="s1">&#39;lon&#39;</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s1">&#39;method&#39;</span><span class="p">:</span> <span class="s1">&#39;nearest&#39;</span><span class="p">,</span>
        <span class="s1">&#39;dims&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p><strong>Descripition</strong>: The dimensions listed in the <code class="docutils literal notranslate"><span class="pre">'dims'</span></code> list will used the specified method. These dictionaries can also specify the same field shown in the previous section.</p></li>
<li><p><strong>Details</strong>: PODPAC loops through the <code class="docutils literal notranslate"><span class="pre">interpolation</span></code> list, using the settings specified for each dimension independently.</p></li>
</ul>
</div>
</div>
<div class="section" id="notes-and-caveats">
<h2>Notes and Caveats<a class="headerlink" href="#notes-and-caveats" title="Permalink to this headline">¶</a></h2>
<p>While the API is well developed, all conceivable functionality is not. For example, while we can interpolate gridded data to point data, point data to grid data interpolation is not as well supported, and there may be errors or unexpected results. Advanced users can develop their own interpolators, but this is not currently well-documented.</p>
<p><strong>Gotcha</strong>: Parameters for a specific interpolator may silently be ignored if a different interpolator is automatically selected.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="earthdata.html" class="btn btn-neutral float-right" title="NASA Earth Data Login" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="datasets.html" class="btn btn-neutral float-left" title="Supported Datasets" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2017-2020, Creare

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>