<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>&lt;no title&gt; &mdash; 3.2.0+1.g44ea00f8</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/style.css" type="text/css" />
    <link rel="shortcut icon" href="_static/favicon.png"/>
    <link rel="canonical" href="https://podpac.orgcoordinates.html"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="&lt;no title&gt;" href="cache.html" />
    <link rel="prev" title="}" href="nodes.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html">
            <img src="_static/icon.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.2.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="settings.html">}</a></li>
<li class="toctree-l1"><a class="reference internal" href="settings.html#id18">}</a></li>
<li class="toctree-l1"><a class="reference internal" href="settings.html#id71">}</a></li>
<li class="toctree-l1"><a class="reference internal" href="settings.html#id92">}</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Topics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="design.html">Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="nodes.html">}</a></li>
<li class="toctree-l1"><a class="reference internal" href="nodes.html#id10">]</a></li>
<li class="toctree-l1"><a class="reference internal" href="nodes.html#id19">}</a></li>
<li class="toctree-l1"><a class="reference internal" href="nodes.html#id22">}</a></li>
<li class="toctree-l1"><a class="reference internal" href="nodes.html#id25">}</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolation.html">}</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolation.html#id10">]</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolation.html#id15">}</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolation.html#id20">}</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolation.html#id25">}</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolation.html#id30">}</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolation.html#id35">]</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PODPAC</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">&lt;no title&gt;</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/coordinates.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <p># Coordinates</p>
<p>## Overview</p>
<p>Coordinates are used to:</p>
<ol class="arabic simple">
<li><p>Evaluate [nodes](nodes.md) which retrieve and process data</p></li>
<li><p>Define the coordinates of [data sources](nodes.md#datasource)</p></li>
</ol>
<p>Podpac Coordinates are modeled after the coords in [xarray](<a class="reference external" href="http://xarray.pydata.org/en/stable/data-structures.html">http://xarray.pydata.org/en/stable/data-structures.html</a>),
with some additional restrictions and enhancements. Coordinates are created from a list of coordinate <cite>values</cite> and a corresponding list of <cite>dims</cite>:</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">podpac.Coordinates(values,</span> <span class="pre">dims=dims,</span> <span class="pre">...)</span>
<span class="pre">`</span></code></p>
<p>Unlike xarray, podpac coordinate values are always either <cite>float</cite> or <cite>np.datetime64</cite>. For convenience, podpac
automatically converts datetime strings such as <cite>‘2018-01-01’</cite> to <cite>np.datetime64</cite>. In addition, the allowed dimensions
are <cite>‘lat’</cite>, <cite>‘lon’</cite>, <cite>‘time’</cite>, and <cite>‘alt’</cite>.</p>
<p>## Coordinate Creation</p>
<p>### Unstacked Coordinates</p>
<p>Unstacked multidimensional coordinates form a grid of points. For example, the following Coordinates contain three dimensions and a total of 24 points.</p>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a>`
[.] from podpac import Coordinates
[.] lat = [0, 1, 2]
[.] lon = [10, 20, 30, 40]
[.] time = [‘2018-01-01’, ‘2018-01-02’]
[.] Coordinates([lat, lon], dims=[‘lat’, ‘lon’])
Coordinates</p>
<blockquote>
<div><p>lat: ArrayCoordinates1d(lat): Bounds[0.0, 2.0], N[3]
lon: ArrayCoordinates1d(lon): Bounds[10.0, 40.0], N[4]</p>
</div></blockquote>
<p>[.] Coordinates([lat, lon, time], dims=[‘lat’, ‘lon’, ‘time’])
Coordinates</p>
<blockquote>
<div><p>lat: ArrayCoordinates1d(lat): Bounds[0.0, 2.0], N[3]
lon: ArrayCoordinates1d(lon): Bounds[10.0, 40.0], N[4]
time: ArrayCoordinates1d(time): Bounds[2018-01-01, 2018-01-02], N[2]</p>
</div></blockquote>
<p><a href="#id3"><span class="problematic" id="id4">``</span></a><a href="#id5"><span class="problematic" id="id6">`</span></a></p>
<p>You can also create coordinates with just one dimension the same way:</p>
<p><a href="#id7"><span class="problematic" id="id8">``</span></a>`
&gt;&gt;&gt; from podpac import Coordinates
&gt;&gt;&gt; Coordinates([time], dims=[‘time’])
Coordinates</p>
<blockquote>
<div><p>time: ArrayCoordinates1d(time): Bounds[2018-01-01, 2018-01-02], N[2]</p>
</div></blockquote>
<p><a href="#id9"><span class="problematic" id="id10">``</span></a><a href="#id11"><span class="problematic" id="id12">`</span></a></p>
<p>### Stacked Coordinates</p>
<p>Coordinates from multiple dimensions can be stacked together in a list (rather than representing a grid).</p>
<p>For example, Coordinates with stacked latitude and longitude contain one point for each (lat, lon) pair. Note
that the name for this stacked dimension is ‘lat_lon’, using an underscore to combine the underlying dimensions.
The following example has a single stacked dimension and a total of 3 points.</p>
<p><a href="#id13"><span class="problematic" id="id14">``</span></a>`
[.] from podpac import Coordinates
[.] lat = [0, 1, 2]
[.] lon = [10, 20, 30]
[.] c = Coordinates([[lat, lon]], dims=[‘lat_lon’])
[.] c
Coordinates</p>
<blockquote>
<div><p>lat_lon[lat]: ArrayCoordinates1d(lat): Bounds[0.0, 2.0], N[3]
lat_lon[lon]: ArrayCoordinates1d(lon): Bounds[10.0, 30.0], N[3]</p>
</div></blockquote>
<p>[.] c[‘lat_lon’].coordinates[0]
(0.0, 10.0)
<a href="#id15"><span class="problematic" id="id16">``</span></a><a href="#id17"><span class="problematic" id="id18">`</span></a></p>
<p>Coordinates can combine stacked dimensions and unstacked dimensions. For example, in the following Coordinates the <cite>(lat, lon)</cite> values and the <cite>time</cite> values form a grid of 6 total points.</p>
<p><a href="#id19"><span class="problematic" id="id20">``</span></a>`
[.] from podpac import Coordinates
[.] lat = [0, 1, 2]
[.] lon = [10, 20, 30]
[.] time = [‘2018-01-01’, ‘2018-01-02’]
[.] c = Coordinates([[lat, lon], time], dims=[‘lat_lon’, ‘time’])
Coordinates</p>
<blockquote>
<div><p>lat_lon[lat]: ArrayCoordinates1d(lat): Bounds[0.0, 2.0], N[3]
lat_lon[lon]: ArrayCoordinates1d(lon): Bounds[10.0, 30.0], N[3]
time: ArrayCoordinates1d(time): Bounds[2018-01-01, 2018-01-02], N[2]</p>
</div></blockquote>
<p>[.] c[‘lat_lon’].coordinates[0]
(0.0, 10.0)
[.] c[‘time’].coordinates[0]
numpy.datetime64(‘2018-01-01’)
<a href="#id21"><span class="problematic" id="id22">``</span></a><a href="#id23"><span class="problematic" id="id24">`</span></a></p>
<p>### Uniformly-Spaced Coordinates</p>
<p>Podpac provides two convenience functions <cite>crange</cite> and <cite>clinspace</cite> for creating uniformly-spaced coordinates, similar to the <cite>arange</cite> and <cite>linspace</cite> functions provided by numpy.</p>
<p><strong>Coordinates Range</strong></p>
<p><cite>podpac.crange</cite> creates uniformly-spaced coordinates from a start, stop, and step.</p>
<dl class="simple">
<dt>Unlike <cite>np.arange</cite>:</dt><dd><ul class="simple">
<li><p>string inputs are supported for datetimes and timedeltas</p></li>
<li><p>the stop value will be included in the coordinates if it falls an exact number of steps from the start</p></li>
</ul>
</dd>
</dl>
<p><a href="#id25"><span class="problematic" id="id26">``</span></a>`
&gt;&gt;&gt; import podpac
&gt;&gt;&gt; c = podpac.crange(0, 7, 2)
&gt;&gt;&gt; c.coordinates
array([0., 2., 4., 6.])
&gt;&gt;&gt; c = podpac.crange(0, 8, 2)
&gt;&gt;&gt; c.coordinates
array([0., 2., 4., 6., 8.])
&gt;&gt;&gt; c = podpac.crange(‘2018-01-01’, ‘2018-03-01’, ‘1,M’)
&gt;&gt;&gt; c.coordinates
array([‘2018-01-01’, ‘2018-02-01’, ‘2018-03-01’], dtype=’datetime64[D]’)</p>
<blockquote>
<div><p><a href="#id27"><span class="problematic" id="id28">``</span></a><a href="#id29"><span class="problematic" id="id30">`</span></a></p>
</div></blockquote>
<p><strong>Coordinates Linspace</strong></p>
<p><cite>podpac.clinspace</cite> creates uniformly-spaced coordinates from a start, stop, and size.</p>
<dl class="simple">
<dt>Unlike <cite>np.linspace</cite>:</dt><dd><ul class="simple">
<li><p>string inputs are supported for datetimes</p></li>
<li><p>tuple inputs are supported for stacked coordinates</p></li>
</ul>
</dd>
</dl>
<p><a href="#id31"><span class="problematic" id="id32">``</span></a>`
&gt;&gt;&gt; import podpac
&gt;&gt;&gt; c = podpac.clinspace(0, 8, 5)
&gt;&gt;&gt; c.coordinates
array([0., 2., 4., 6., 8.])
&gt;&gt;&gt; c = podpac.clinspace(‘2018-01-01’, ‘2018-03-01’, 3)
&gt;&gt;&gt; c.coordinates
array([‘2018-01-01’, ‘2018-01-30’, ‘2018-02-28’], dtype=’datetime64[D]’)
&gt;&gt;&gt; c = podpac.clinspace((0, 10), (1, 20), 3)
&gt;&gt;&gt; c.coordinates
MultiIndex(levels=[[0.0, 0.5, 1.0], [10.0, 15.0, 20.0]],</p>
<blockquote>
<div><p>labels=[[0, 1, 2], [0, 1, 2]])</p>
</div></blockquote>
<p><a href="#id33"><span class="problematic" id="id34">``</span></a><a href="#id35"><span class="problematic" id="id36">`</span></a></p>
<p>These functions wrap UniformCoordinates1d (see Advanced Usage), which is particularly useful for coordinates with an
extremely large number of points.</p>
<p>### Rotated Coordinates</p>
<p>TODO</p>
<p>### Alternate Constructors</p>
<p>Unstacked coordinates can also be created using the <cite>Coordinates.grid</cite> alternate constructor:</p>
<p><a href="#id37"><span class="problematic" id="id38">``</span></a>`
&gt;&gt;&gt; from podpac import Coordinates
&gt;&gt;&gt; Coordinates.grid(lat=[0, 1, 2], lon=[10, 20, 30, 40])
Coordinates</p>
<blockquote>
<div><p>lat: ArrayCoordinates1d(lat): Bounds[0.0, 2.0], N[3]
lon: ArrayCoordinates1d(lon): Bounds[10.0, 40.0], N[4]</p>
</div></blockquote>
<p><a href="#id39"><span class="problematic" id="id40">``</span></a><a href="#id41"><span class="problematic" id="id42">`</span></a></p>
<p>Stacked coordinates can be created using the <cite>Coordinates.points</cite> alternate constructor:</p>
<p><a href="#id43"><span class="problematic" id="id44">``</span></a>`
&gt;&gt;&gt; from podpac import Coordinates
&gt;&gt;&gt; Coordinates.points(lat=[0, 1, 2], lon=[10, 20, 30])
Coordinates</p>
<blockquote>
<div><p>lat_lon[lat]: ArrayCoordinates1d(lat): Bounds[0.0, 2.0], N[3]
lat_lon[lon]: ArrayCoordinates1d(lon): Bounds[10.0, 30.0], N[3]</p>
</div></blockquote>
<p><a href="#id45"><span class="problematic" id="id46">``</span></a><a href="#id47"><span class="problematic" id="id48">`</span></a></p>
<p>For convenience, a tuple can be used to generate uniformly-spaced coordinates. If the third item is an integer, it
is interpreted as a size, otherwise it is interpreted as a step. The following will all be equivalent:</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">Coordinates.grid(lat=(0,</span> <span class="pre">2,</span> <span class="pre">3),</span> <span class="pre">lon=(10,</span> <span class="pre">40,</span> <span class="pre">4))</span>
<span class="pre">Coordinates.grid(lat=(0,</span> <span class="pre">2,</span> <span class="pre">1.0),</span> <span class="pre">lon=(10,</span> <span class="pre">40,</span> <span class="pre">10.0))</span>
<span class="pre">Coordinates.grid(lat=clinspace(0,</span> <span class="pre">2,</span> <span class="pre">3),</span> <span class="pre">lon=clinspace(10,</span> <span class="pre">40,</span> <span class="pre">4))</span>
<span class="pre">Coordinates.grid(lat=crange(0,</span> <span class="pre">2,</span> <span class="pre">1),</span> <span class="pre">lon=crange(10,</span> <span class="pre">40,</span> <span class="pre">10))</span>
<span class="pre">`</span></code></p>
<p>Note that in Python 3.5 and below, the <cite>order</cite> argument is required to both <cite>grid</cite> and <cite>points</cite></p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">Coordinates.grid(lat=[0,</span> <span class="pre">1,</span> <span class="pre">2],</span> <span class="pre">lon=[10,</span> <span class="pre">20,</span> <span class="pre">30],</span> <span class="pre">order=['lat',</span> <span class="pre">'lon'])</span>
<span class="pre">Coordinates.points(lat=[0,</span> <span class="pre">1,</span> <span class="pre">2],</span> <span class="pre">lon=[10,</span> <span class="pre">20,</span> <span class="pre">30],</span> <span class="pre">order=['lat',</span> <span class="pre">'lon'])</span>
<span class="pre">`</span></code></p>
<p>### Advanced Usage</p>
<p>TODO</p>
<p><a href="#id49"><span class="problematic" id="id50">``</span></a>`
from podpac.coordinates import UniformCoordinates1d, ArrayCoordinates1d, Coordinates, StackedCoordinates
&gt;&gt;&gt; lat = UniformCoordinates1d(0, 1, size=100, name=’lat’)
&gt;&gt;&gt; lon = UniformCoordinates1d(10, 20, size=100, name=’lon’)
&gt;&gt;&gt; time = ArrayCoordinates1d([‘2018-01-01’, ‘2018-02-03’], name=’time’)
&gt;&gt;&gt; Coordinates([StackedCoordinates([lat, lon]), time])
Coordinates</p>
<blockquote>
<div><p>lat_lon[lat]: UniformCoordinates1d(lat): Bounds[0.0, 1.0], N[100]
lat_lon[lon]: UniformCoordinates1d(lon): Bounds[10.0, 20.0], N[100]
time: ArrayCoordinates1d(time): Bounds[2018-01-01, 2018-02-03], N[2]</p>
</div></blockquote>
<p><a href="#id51"><span class="problematic" id="id52">``</span></a><a href="#id53"><span class="problematic" id="id54">`</span></a></p>
<p>## Coordinate API</p>
<p>TODO</p>
<p>Coordinates contain some useful properties relating to its dimensions and underlying coordinate values.</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">&gt;&gt;&gt;</span> <span class="pre">from</span> <span class="pre">podpac</span> <span class="pre">import</span> <span class="pre">Coordinates</span>
<span class="pre">&gt;&gt;&gt;</span> <span class="pre">c</span> <span class="pre">=</span> <span class="pre">Coordinates([lat,</span> <span class="pre">lon,</span> <span class="pre">time],</span> <span class="pre">dims=['lat',</span> <span class="pre">'lon',</span> <span class="pre">'time'])</span>
<span class="pre">&gt;&gt;&gt;</span> <span class="pre">c.ndims</span>
<span class="pre">&gt;&gt;&gt;</span> <span class="pre">c.dims</span>
<span class="pre">&gt;&gt;&gt;</span> <span class="pre">c.shape</span>
<span class="pre">&gt;&gt;&gt;</span> <span class="pre">c.size</span>
<span class="pre">`</span></code></p>
<p>Coordinates are dict-like. The <cite>keys()</cite>, <cite>values()</cite>, and <cite>items()</cite></p>
<p>## Coordinates Groups</p>
<p>TODO</p>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="nodes.html" class="btn btn-neutral float-left" title="}" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="cache.html" class="btn btn-neutral float-right" title="&lt;no title&gt;" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017-2023, Creare.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>