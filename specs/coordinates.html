

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>&lt;no title&gt; &mdash; 1.3.1</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.png"/>
  
  
  
    <link rel="canonical" href="https://podpac.orgspecs/coordinates.html"/>
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/icon.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.3.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings.html">}</a></li>
<li class="toctree-l1"><a class="reference internal" href="../settings.html#id18">}</a></li>
<li class="toctree-l1"><a class="reference internal" href="../settings.html#id71">}</a></li>
<li class="toctree-l1"><a class="reference internal" href="../settings.html#id92">}</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
</ul>
<p class="caption"><span class="caption-text">Topics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../design.html">Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nodes.html">}</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nodes.html#id10">}</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nodes.html#id19">}</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nodes.html#id22">}</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nodes.html#id25">}</a></li>
</ul>
<p class="caption"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API Reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PODPAC</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>&lt;no title&gt;</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/specs/coordinates.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p># Requirements
* Support lat, lon, alt, and time dimensions
* Support arbitrary stacking of coordinates (eg. lat_lon lat_time, lat_lon_time, alt_time, etc.)
* Support dimensions for coordinates, but allow overwriting to ignore dimensions
* Support different coordinate reference systems for lat, lon dimensions
* Support arbitrary start, end, steps that get filled with the native coordinates when requested
* Support intersection of coodinates
* Support addition of coordinates
* Support dropping coordintes
* Support replacement of coordinates for certain dimensions
* Support sub-selection of coordinates based on index
* Support multiple types of calculated, and explicitly labelled coordinates</p>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt>This includes:</dt><dd><ul>
<li><p>Explicit lists of coordinates</p></li>
<li><p>Uniform or linspace coordinates</p></li>
<li><p>Rotated coordinates</p></li>
<li><p>Mapped coordinates (mapping based on i/j(/k/l) index of data array)</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p># Example Use cases
1. I want to create a regularly spaced set of (lat, lon) coordinates
2. I want to create an irregularly spaced set of (time) coordinates
3. I want to create a rotated lat,lon coordinate system
4. I want to create a regularly spaced line of (lat_lon) coordinates
5. I have a set of native_coordinates, and I want to sub-select based on a window of coordinates. The step size of the native_coordinates should be preserved
6. I have a set of native_coordinates, but I only want every 5th element in the time dimension
7. I have a set of native_coordinates, but I want to replace the coordinates of the time dimension with a different coordinate
8. I have a set of (lat_lon) stacked coordinates but I want a new set of coordinates that describe a box containing all of these (lat_lon) coordinates – this should be at the resolution of the lat_lon coordinates
9. I want to create (lat,lon) coordinates in UTM-feet using zone T18 with the NAD87 CRS
10. I want the intersection of the (lat,lon) coordinates in UTM-feet using zone T18 with the NAD87 CRS with another coordinate system using CRS WGS84 in geodetic coordinates.
11. I want to specify a single (lat, lon) coordinate represented as a single point. Intersections with another coordinate should only give results at the point.
12. I want to specify a single (lat, lon) coordinate representing an area of a certiain size (dlat, dlon). Intersections with another coordinate will give resoluts over this area.
13. TODO:</p>
<p># Specification</p>
<p>## General</p>
<blockquote>
<div><ul class="simple">
<li><p>Coordinate values are either <cite>float</cite> or <cite>np.datetime64</cite></p></li>
<li><p>Coordinate deltas are either <cite>float</cite> or <cite>np.timedelta64</cite></p></li>
<li><p>When input:
- numerical values and deltas are cast to <cite>float</cite>
- string values are parsed with <cite>np.datetime64</cite>
- string deltas are split and then parsed by <cite>np.timedelta64</cite> (e.g. <cite>‘1,D’</cite> -&gt; <cite>np.timedelta(1, ‘D’)</cite>)</p></li>
</ul>
</div></blockquote>
<p>## Coordinates for One Dimension</p>
<p>### BaseCoordinates1d</p>
<p><cite>BaseCoordinates1d</cite> is the base class for Coordinates1d and StackedCoordinates.</p>
<dl class="simple">
<dt>Common Attributes:</dt><dd><ul class="simple">
<li><p><cite>name</cite></p></li>
<li><p><cite>dims</cite></p></li>
<li><p><cite>size</cite></p></li>
<li><p><cite>is_monotonic</cite></p></li>
<li><p><cite>is_uniform</cite></p></li>
</ul>
</dd>
<dt>Common Methods:</dt><dd><ul class="simple">
<li><p><cite>select(bounds, outer=False)</cite></p></li>
<li><p><cite>intersect(other, outer=False)</cite></p></li>
</ul>
</dd>
<dt>Common Operators:</dt><dd><ul class="simple">
<li><p><cite>len</cite></p></li>
<li><p><cite>[]</cite>: supports integer, slice, index array, or boolean array</p></li>
</ul>
</dd>
</dl>
<p>### Coordinates1d(BaseCoordinates1d)</p>
<p>Base class for a singe dimension of coordinates.</p>
<p>Common Traits:
- <cite>name</cite>: Enum(‘lat’, ‘lon’, ‘time’, ‘alt’)
- <cite>units</cite>: Units
- <cite>coord_ref_sys</cite>: string, default: ‘WGS84’
- <cite>ctype</cite>: Enum(‘point’, ‘left’, ‘rigth’, ‘midpoint’), default: ‘midpoint’
- <cite>extents</cite>: array, shape (2,), optional</p>
<p>Common Properties
- <cite>coordinates</cite>: read-only array
- <cite>properties</cite>: dictionary of coordinate properties
- <cite>dtype</cite>: <cite>np.datetime64</cite> or <cite>float</cite>
- <cite>size</cite>: int
- <cite>bounds</cite>: read-only array, <cite>[float, float]</cite>. Coordinate values min and max.
- <cite>area_bounds</cite>: read-only array, <cite>[float, float]</cite>.</p>
<blockquote>
<div><ul class="simple">
<li><p>For point coordinates, this is just the <cite>bounds</cite>.</p></li>
<li><p>For segment coordinates, use <cite>extents</cite> when available, otherwise calculated depending on the ctype mode.</p></li>
</ul>
</div></blockquote>
<ul class="simple">
<li><p><cite>is_monotonic</cite>: bool</p></li>
<li><p><cite>is_descending</cite>: bool</p></li>
<li><p><cite>is_uniform</cite>: bool</p></li>
</ul>
<dl class="simple">
<dt>Common Methods</dt><dd><ul class="simple">
<li><dl class="simple">
<dt><cite>select(bounds, outer=False)</cite>: select coordinates within the given bounds</dt><dd><ul>
<li><p>returns a new Coordinates1d</p></li>
<li><p>if <cite>outer</cite> is true, the coordinates just outside the bounds are returned</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><cite>intersect(other, outer=False)</cite>: intersect these coordinates with other coordinates</dt><dd><ul>
<li><p>returns a new Coordinates1d</p></li>
<li><p>if <cite>other</cite> is Coordinates1d, raises an exception if <cite>other.name != self.name</cite></p></li>
<li><p>if <cite>other</cite> is StackedCoordinates or Coordinates, intersects with <cite>other[self.name]</cite></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><cite>add</cite>: add delta value to each coordinate value</dt><dd><ul>
<li><p>returns a new Coordinates1d object by default, or can be modified in-place</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><cite>concat(other)</cite>: concatenate additional coordinates</dt><dd><ul>
<li><p>returns a new Coordinates1d object by default, or can be used in-place</p></li>
<li><p>raises an exception if <cite>other.name != self.name</cite></p></li>
<li><p><em>not sure we need this…</em></p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>Operators</dt><dd><ul class="simple">
<li><p><cite>+</cite>, <cite>+=</cite>: wraps add</p></li>
<li><p><cite>-</cite>, <cite>-=</cite>: wraps add</p></li>
</ul>
</dd>
</dl>
<p>### ArrayCoordinates1d(Coordinates1d)</p>
<p>A 1d array of coordinates.</p>
<dl class="simple">
<dt>Constructor:</dt><dd><ul class="simple">
<li><p><cite>ArrayCoordinates1d()</cite>: empty coordinates</p></li>
<li><p><cite>ArrayCoordinates1d(value)</cite>: a singleton array with one coordinate</p></li>
<li><p><cite>ArrayCoordinates1d(values)</cite>: an array of coordinates</p></li>
</ul>
</dd>
<dt>Alternate Constructors:</dt><dd><ul class="simple">
<li><p><cite>ArrayCoordinates1d.from_xarray(xcoords)</cite>: Create coordinates from an xarray dimension (a named DataArray)</p></li>
</ul>
</dd>
<dt>Traits:</dt><dd><ul class="simple">
<li><p><cite>coords</cite>: array</p></li>
</ul>
</dd>
</dl>
<p>### UniformCoordinates1d(Coordinates1d)</p>
<p>Uniformly-spaced coordinates, parameterized by a start, stop, and step.</p>
<dl class="simple">
<dt>Constructor</dt><dd><ul class="simple">
<li><p><cite>UniformCoordinates1d(start, stop, step)</cite></p></li>
<li><p><cite>UniformCoordinates1d(start, stop, step=step)</cite></p></li>
<li><p><cite>UniformCoordinates1d(start, stop, size=N)</cite></p></li>
</ul>
</dd>
<dt>Alternate Constructors</dt><dd><ul class="simple">
<li><p><cite>UniformCoordinates1d.from_tuple(items)</cite>: items is either (start, stop, step) or (start, stop, size)</p></li>
</ul>
</dd>
<dt>Traits:</dt><dd><ul class="simple">
<li><p>start: float or datetime64</p></li>
<li><p>stop: float or datetime64</p></li>
<li><p>step: float or timedelta64</p></li>
</ul>
</dd>
</dl>
<p>### StackedCoordinates(BaseCoordinates1d)</p>
<p>Coordinates for two or more physical dimensions that are indexed together (aligned, as opposed to defining a grid). This class should be considered an implementation detail that behaves like a tuple (is iterable) but also facilitates a common interface with Coordinates1d by mapping indexing and other methods to its Coordinates1d objects.</p>
<p>Properties
- <cite>name</cite>: dimension names joined by an underscore, e.g. <cite>‘lat_lon’</cite>
- <cite>dims</cite>: tuple of dimension names
- <cite>coordinates</cite>: pandas.MultiIndex
- <cite>size</cite>: int
- <cite>is_monotonic</cite>: if all of its dimensions are monotonic
- <cite>is_monotonic</cite>: if all of its dimensions are uniform</p>
<dl class="simple">
<dt>Methods</dt><dd><ul class="simple">
<li><dl class="simple">
<dt><cite>select(bounds)</cite>: select coordinates within the given bounds</dt><dd><ul>
<li><p>returns a new StackedCoordinates object</p></li>
<li><p>TODO: how are bounds defined? is this necessary</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><cite>intersect(other)</cite>: intersect these coordinates with other coordinates</dt><dd><ul>
<li><p>outer=False, intersection of intersect in each dimension</p></li>
<li><p>outer=True, union of intersection in each dimension</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><cite>concat(other)</cite>: concatenate additional coordinates</dt><dd><ul>
<li><p>returns a new StackedCoordinates object by default, or can be used in-place</p></li>
<li><p>raises an exception if <cite>other.name != self.name</cite></p></li>
<li><p><em>not sure we need this…</em></p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<p>## Convenience Functions</p>
<p>### crange</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">podpac.crange(0,</span> <span class="pre">2.5,</span> <span class="pre">0.5)</span>
<span class="pre">podpac.crange('2018-01-01',</span> <span class="pre">'2018-01-10',</span> <span class="pre">'2,D')</span>
<span class="pre">podpac.crange(np.datetime64('2018-01-01'),</span> <span class="pre">np.datetime64('2018-01-10'),</span> <span class="pre">np.timedelta64(2,</span> <span class="pre">'D'))</span>
<span class="pre">`</span></code></p>
<blockquote>
<div><ul class="simple">
<li><p>Similar to np.arange, but
- contains the stop value if it falls exactly on a step
- supports time coordinates, either datetime64/timedelta64 or strings</p></li>
<li><p>Under the hood, this is implemented by mapping directly to <cite>UniformCoordinates1d(start, stop, step)</cite></p></li>
</ul>
</div></blockquote>
<p>### clinspace</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">podpac.clinspace(0,</span> <span class="pre">2.5,</span> <span class="pre">5)</span>
<span class="pre">podpac.clinspace('2018-01-01',</span> <span class="pre">'2018-01-09',</span> <span class="pre">5)</span>
<span class="pre">podpac.clinspace(np.datetime64('2018-01-01'),</span> <span class="pre">np.datetime64('2018-01-09'),</span> <span class="pre">5)</span>
<span class="pre">podpac.clinspace([0,</span> <span class="pre">1],</span> <span class="pre">[2.5,</span> <span class="pre">20],</span> <span class="pre">5)</span>
<span class="pre">podpac.clinspace([0,</span> <span class="pre">1,</span> <span class="pre">'2018-01-01'],</span> <span class="pre">[2.5,</span> <span class="pre">20,</span> <span class="pre">'2018-01-09'],</span> <span class="pre">5)</span>
<span class="pre">`</span></code></p>
<blockquote>
<div><ul class="simple">
<li><p>Similar to np.linspace, but
- supports time coordinates, either datetime64 or strings
- supports stacked coordinates</p></li>
<li><p>Under the hood, this is implemented by mapping to <cite>UniformCoordinates1d(start, stop, size=N)</cite> and <cite>StackedCoordinates</cite></p></li>
</ul>
</div></blockquote>
<p>### Shorthand/aliases</p>
<p>For ease-of-use, the following aliases will be available in the toplevel <cite>podpac</cite> package:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>_ca</cite>: <cite>ArrayCoordinates1d</cite></p></li>
<li><p><cite>_cu</cite>: <cite>UniformCoordinates1d</cite></p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p><cite>_stacked</cite>: <cite>StackedCoordinates</cite></p></li>
</ul>
</div></blockquote>
</div></blockquote>
<p>16 shortcut functions <em>may</em> also be defined, e.g. <cite>_ca_lat</cite>, <cite>_cu_time</cite>, etc</p>
<p>So that the following single coordinates are equivalent</p>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a>`
UniformCoordinates1d(0, 1, 0.1, name=’lat’)
podpac._cu(0, 1, 0.1, name=’lat’)
podpac._cu_lat(0, 1, 0.1)
podpac.crange(0, 1, 0.1, name=’lat’)</p>
<p># these are also functionally equivalent to the above
ArrayCoordinates1d(np.arange(0, 1.1, 0.1), name=’lat’)
podpac._ca(np.arange(0, 1.1, 0.1), name=’lat’)
podpac._ca_lat(np.arange(0, 1.1, 0.1))
<a href="#id3"><span class="problematic" id="id4">``</span></a><a href="#id5"><span class="problematic" id="id6">`</span></a></p>
<p>And the following stacked coordinates are equivalent</p>
<p><a href="#id7"><span class="problematic" id="id8">``</span></a>`
StackedCoordinates([</p>
<blockquote>
<div><p>UniformCoordinates1d(0, 1, size=100, name=’lat’),
UniformCoordinates1d(0, 1, size=100, name=’lon’),
UniformCoordinates1d(‘2018-01-01’, ‘2018-01-10’, size=10, name=’time’)])</p>
</div></blockquote>
<dl class="simple">
<dt>podpac._stacked([</dt><dd><p>podpac._cu(0, 1, size=10, name=’lat’),
podpac._cu(0, 1, size=10, name=’lon’),
podaac._cu(‘2018-01-01’, ‘2018-01-10’, size=10, name=’time’)])</p>
</dd>
<dt>podpac._stacked([</dt><dd><p>podpac._cu_lat(0, 1, size=100),
podpac._cu_lon(0, 1, size=100)),
podpac._cu_time(‘2018-01-01’, ‘2018-01-10’, size=10)])</p>
</dd>
</dl>
<p>podpac.clinspace((0, 0, ‘2018-01-01’), (1, 1, ‘2018-01-10’), 10, dims=[‘lat’, ‘lon’, ‘time’])
<a href="#id9"><span class="problematic" id="id10">``</span></a><a href="#id11"><span class="problematic" id="id12">`</span></a></p>
<p>## Multidemensional Coordinates</p>
<p>### Coordinate Creation</p>
<p>Coordinates are created from a list or dict containing BaseCoordinates1d objects (Coordinates1d or StackedCoordinates).</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>Coordinates()</cite></p></li>
<li><p><cite>Coordinates([coords1d, coords1d])</cite></p></li>
<li><p><cite>Coordinates([StackedCoordinates([coords1d, coords1d]), coords1d])</cite></p></li>
<li><p><cite>Coordinates([(coords1d, coords1d), coords1d])</cite></p></li>
<li><p><cite>Coordinates([array1d, array1d], dims=[‘lat’, ‘lon’])</cite></p></li>
<li><p><cite>Coordinates([(array1d, array1d), array], dims=[‘lat_lon’, ‘time’])</cite></p></li>
<li><p><cite>Coordinates([array2d, array1d], dims=[‘lat_lon’, ‘time’])</cite></p></li>
</ul>
</div></blockquote>
<p>### Alternate Constructors</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>Coordinates.from_xarray(xcoords)</cite>: maps multi-dimensional xarray <cite>DataArrayCoordinates</cite> to podpac <cite>Coordinates</cite></p></li>
<li><p><cite>Coordinates.grid(…)</cite></p></li>
<li><p><cite>Coordinates.points(…)</cite></p></li>
</ul>
</div></blockquote>
<p>### Traits</p>
<ul class="simple">
<li><p><cite>coord_ref_sys</cite>: Unicode</p></li>
<li><p><cite>default_distance_units</cite>: Units</p></li>
<li><p><cite>default_ctype</cite>: Enum(‘left’, ‘right’, ‘midpoint’, ‘point’)</p></li>
</ul>
<p>### Properties</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>dims</cite>: tuple(str, str, …)</p></li>
<li><p><cite>shape</cite>: tuple(int, int, …)</p></li>
<li><p><cite>ndim</cite>: int</p></li>
<li><p><cite>size</cite>: int</p></li>
<li><p><cite>udims</cite>: tuple(str, str, …), “unstacked”</p></li>
<li><p><cite>coords</cite>: <cite>xarray.core.DataArrayCoordinates</cite></p></li>
</ul>
</div></blockquote>
<p>### Methods</p>
<p>In general, methods will return a new Coordinates object by default, with an option to modify the Coordinates in-place.</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>keys()</cite>: return dims, stacked</p></li>
<li><p><cite>values()</cite>: returns BaseCoordinates1d, stacked</p></li>
<li><p><cite>items()</cite>: zips keys and values</p></li>
<li><p><cite>get(key, default=None)</cite>: wraps [] with fallback</p></li>
<li><p><cite>add</cite>: TODO</p></li>
<li><p><cite>concat(other)</cite>: TODO</p></li>
<li><p><cite>intersect(other, outer=False)</cite>: maps intersection to each dimension, returns new Coordinates object</p></li>
<li><p><cite>drop(dims)</cite>: remove dimensions, stacked dimensions are removed together</p></li>
<li><p><cite>udrop(dims)</cite>: remove dimensions, stacked dimensions can be removed individually</p></li>
<li><p><cite>transpose</cite>: TODO</p></li>
<li><p><cite>iterchunks</cite>: TODO</p></li>
</ul>
</div></blockquote>
<p>### Operators</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>[dim]</cite>: Get the BaseCoordinates1d object for the given dimension, stacked or unstacked</p></li>
<li><p><cite>[dim] = &lt;BaseCoordinates1d&gt;</cite>: Set the coordinates for this dimension.
- If the dimension is part of stacked dimensions, raises an exception (<em>we could change this to allow setting part of stacked coordinates and just validate that the size is the same</em>)
- If the dimension is missing, raises an exception (<em>we could change this to add dimensions</em>)</p></li>
</ul>
</div></blockquote>
<p>TODO: <cite>coords[‘lat_lon’][‘lat’] = ArrayCoordinates(…)</cite> vs <cite>coords[lat] = ArrayCoordinates(…)</cite></p>
<p>### Example</p>
<p><a href="#id13"><span class="problematic" id="id14">``</span></a>`
lat = ArrayCoordinates1d(np.arange(10))
lon = ArrayCoordinates1d(np.arange(10))
time = ArrayCoordinates1d(np.range(4))
lat_lon = StackedCoordinates(lat, lon)
coords = Coordinates([lat_lon, time])</p>
<p>coords.dims -&gt; (‘lat_lon’, ‘time’)
coords.shape -&gt; (10, 4)
coords.ndim -&gt; 2
coords.size -&gt; 40
coords.udims -&gt; (‘lat’, ‘lon’, ‘time’)
coords.keys() -&gt; (‘lat_lon’, ‘time’)
coords.values() -&gt; (lat_lon, time)
coords.items() -&gt; ((‘lat_lon’, lat_lon), (‘time’, time))
coords[‘lat_lon’] -&gt; lat_lon
coords[‘time’] -&gt; time
coords[‘lat’] -&gt; lat
coords[‘alt’] -&gt; KeyError
coords.get(‘alt’) -&gt; None
len(coords) -&gt; 2
coords.drop(‘time’) -&gt; Coordinates with only lat_lon
coords.drop(‘lat_lon’) -&gt; Coordinates with only time
coords.drop(‘alt’) -&gt; KeyError
coords.drop(‘lat’) -&gt; KeyError
coords.drop([‘time’, ‘lat_lon’]) -&gt; empty Coordinates
coords.drop([‘time’, ‘alt’], ignore_missing=True) -&gt; Coordinates with only lat_lon
coords.udrop(‘lat’) -&gt; Coordinates with only time and lon
<a href="#id15"><span class="problematic" id="id16">``</span></a><a href="#id17"><span class="problematic" id="id18">`</span></a></p>
<p>### Miscellaneous Examples</p>
<p>Some equivalent ways to copy:</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">coords_copy</span> <span class="pre">=</span> <span class="pre">Coordinates(other)</span> <span class="pre">#</span> <span class="pre">I'm</span> <span class="pre">not</span> <span class="pre">sure</span> <span class="pre">we</span> <span class="pre">need</span> <span class="pre">this</span> <span class="pre">one</span>
<span class="pre">coords_copy</span> <span class="pre">=</span> <span class="pre">Coordinates(other.coords1d)</span>
<span class="pre">coords_copy</span> <span class="pre">=</span> <span class="pre">Coordinates(other.coords1d.values())</span>
<span class="pre">`</span></code></p>
<p>Select specific dimensions</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">dims</span> <span class="pre">=</span> <span class="pre">['lat',</span> <span class="pre">'lon']</span>
<span class="pre">c1</span> <span class="pre">=</span> <span class="pre">Coordinates([other.coords1d[dim]</span> <span class="pre">for</span> <span class="pre">dim</span> <span class="pre">in</span> <span class="pre">dims])</span>
<span class="pre">`</span></code></p>
<p>Downsample (even if some dimensions are stacked)</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">c2</span> <span class="pre">=</span> <span class="pre">Coordinates([c[::10]</span> <span class="pre">for</span> <span class="pre">c</span> <span class="pre">in</span> <span class="pre">other.coords1d.values()])</span>
<span class="pre">`</span></code></p>
<p>Downsample only the time dimension (only works if time is not stacked)</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">d</span> <span class="pre">=</span> <span class="pre">other.coords1d.copy()</span>
<span class="pre">d['time']</span> <span class="pre">=</span> <span class="pre">d['time'][::10]</span>
<span class="pre">c3</span> <span class="pre">=</span> <span class="pre">Coordinates(d)</span>
<span class="pre">`</span></code></p>
<p>The safe way would would be:</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">d</span> <span class="pre">=</span> <span class="pre">other.coords1d.copy()</span>
<span class="pre">k</span> <span class="pre">=</span> <span class="pre">d.get('time')</span>
<span class="pre">d[k]</span> <span class="pre">=</span> <span class="pre">d[k][::10]</span>
<span class="pre">c3</span> <span class="pre">=</span> <span class="pre">Coordinates(d)</span>
<span class="pre">`</span></code></p>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2020, Creare

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>